/*! GremlinJS 0.4.0 (2013-08-28) - http://grml.in - Licensed under MIT license  */(function(t,n){n["true"]=t,!function(t){window.onDomReady=t()}(function(){"use strict";function t(n){if(!w){if(!s.body)return r(t);for(w=!0;n=E.shift();)r(n)}}function n(n){(v||n.type===l||s[f]===p)&&(e(),t())}function e(){v?(s[y](g,n,u),i[y](l,n,u)):(s[m](_,n),i[m](c,n))}function r(t,n){setTimeout(t,+n>=0?n:1)}function o(t){w?r(t):E.push(t)}var i=window,s=i.document,a=s.documentElement,l="load",u=!1,c="on"+l,p="complete",f="readyState",d="attachEvent",m="detachEvent",h="addEventListener",g="DOMContentLoaded",_="onreadystatechange",y="removeEventListener",v=h in s,b=u,w=u,E=[];if(s[f]===p)r(t);else if(v)s[h](g,n,u),i[h](l,n,u);else{s[d](_,n),i[d](c,n);try{b=null==i.frameElement&&a}catch(N){}b&&b.doScroll&&function A(){if(!w){try{b.doScroll("left")}catch(n){return r(A,50)}e(),t()}}()}return o.version="1.3",o});var e;e=function(){function t(){this._events={}}return t.prototype.on=function(t,n){return this._events[t]=this._events[t]||[],this._events[t].push(n)},t.prototype.off=function(t,n){return!1!=t in this._events?this._events[t].splice(this._events[t].indexOf(n),1):void 0},t.prototype.emit=function(t){var n,e;if(this._events=this._events||{},!1!=t in this._events){for(n=0,e=[];this._events[t].length>n;)this._events[t][n].apply(this,Array.prototype.slice.call(arguments,1)),e.push(n++);return e}},t}();var r={}.hasOwnProperty,o=[].slice,i={};i.Helper=function(){function t(){}var n;return n=function(t,n){var e,o;for(e in n)r.call(n,e)&&(o=n[e],t[e]=o);return t},t.extend=function(){var t,n,e,r,i,s,a;for(r=arguments[0],e=arguments.length>=2?o.call(arguments,1):[],s=0,a=e.length;a>s;s++)for(t in n=e[s])i=n[t],r[t]=i;return r},t.mixin=function(t,e){return n(t.prototype,e)},t.clone=function(t){var n,e;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return n="",null!=t.global&&(n+="g"),null!=t.ignoreCase&&(n+="i"),null!=t.multiline&&(n+="m"),null!=t.sticky&&(n+="y"),RegExp(t.source,n);e=new t.constructor;for(n in t)e[n]=i.Helper.clone(t[n]);return e},t.hasClass=function(t,n){return n=n.trim(),null===t.className.match(RegExp("(\\s|^)"+n+"(\\s|$)"))?!1:!0},t.addClass=function(t,n){return n=n.trim(),i.Helper.hasClass(t,n)||(t.className+=" "+n),t.className=t.className.trim()},t.removeClass=function(t,n){var e;return n=n.trim(),i.Helper.hasClass(t,n)?(e=RegExp("(\\s|^)"+n+"(\\s|$)"),t.className=t.className.replace(e," "),t.className=t.className.trim()):void 0},t.addStyleSheet=function(t){var n,e;return n=document.getElementsByTagName("head")[0],e=document.createElement("style"),e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),n.appendChild(e)},t}(),i.Debug=function(){function t(t){this._isDebug=t,this._gremlins=[],this._broken=[],this._logEl=null,this._createLog(),this._createConsole()}var n,e,r,o,s;return n="debug error info log warn dir dirxml trace assert count markTimeline profile profileEnd time timeEnd timeStamp group groupCollapsed groupEnd".split(" "),e="function"==typeof Function.prototype.bind,r="function"==typeof(null!=(s=window.console)?s.log:void 0),o=function(){},t.prototype._createLog=function(){return this._isDebug?(this._logEl=document.createElement("div"),this._logEl.className="gremlinjs-log",document.body.appendChild(this._logEl)):void 0},t.prototype._createConsole=function(){var t,s,a,l;if(this.console={},this._isDebug&&i.Helper.addStyleSheet(".gremlinjs-log {\nposition: fixed;\nbottom: 0;\nleft: 0;\nbackground: #fff;\npadding: 4px 6px;\n-webkit-box-shadow: 0px 0px 4px 0px rgba(0,0,0,0.3);\nbox-shadow: 0px 0px 4px 0px rgba(0,0,0,0.3);\nz-index: 9999;\n}\n\n.gremlinjs-log p {\n  font-size: 12px;\n  color: #666666;\n  margin: 0;\n  padding: 0;\n}\n\n.gremlinjs-log p span {\n  display: inline-block;\n  margin: 0 5px;\n  cursor: help;\n}\n\n.gremlinjs-log p .gremlinjs-log-ready{\ncolor: #41bb19;\n}\n\n.gremlinjs-log p .gremlinjs-log-waiting{\ncolor: #8d46b0;\n}\n\n.gremlinjs-log p .gremlinjs-log-pending{\ncolor: #fff;\nbackground: #fe781e;\npadding: 0 4px;\n}\n\n.gremlinjs-log p .gremlinjs-log-error{\ncolor: #fff;\nbackground: #f50f43;\npadding: 0 4px;\n}\n\n*[data-gremlin-found] {\noutline: 2px solid #41bb19;\n}\n\n*[data-gremlin-found]::before {\ncolor: #41bb19;\nfont-family: monospace;\ncontent: '[' attr(data-gremlin-found) '] ready';\nposition: absolute;\nmargin-top: -14px;\nfont-size: 11px;\nfont-weight: bold;\n}\n\n.gremlin-definition-pending {\noutline: 2px solid #fe781e;\n}\n.gremlin-definition-pending::before {\ncontent: '[' attr(data-gremlin-found) '] definition pendig...';\ncolor: #fe781e;\n}\n.gremlin-error {\noutline: 2px solid red;\n}\n\n.gremlin-error[data-gremlin-found]::before {\ncontent: 'faulty gremlin!';\ncolor: red;\n}"),r&&this._isDebug){for(l=[],s=0,a=n.length;a>s;s++)t=n[s],e?l.push(this.console[t]=console[t]?Function.prototype.bind.call(console[t],console):o):void 0!==console[t]?l.push(this.console[t]=function(){return Function.prototype.apply.call(console[t],console,arguments)}):l.push(this.console[t]=o);return l}for(l=[],s=0,a=n.length;a>s;s++)t=n[s],l.push(this.console[t]=o);return l},t.prototype.registerGremlin=function(t){return this._gremlins.push(t)},t.prototype.reportBrokenGremlin=function(t){return this._broken.push(t)},t.prototype.updateGremlinLog=function(){var t=this;return this._isDebug&&this._logEl?window.setTimeout(function(){var n,e,r,o,i,s,a,l,u,c,p;for(i=0,s={},a=0,l={},r=0,o={},n=t._broken.length,p=t._gremlins,u=0,c=p.length;c>u;u++)e=p[u],e.hasGremlin()?(i++,t._addName(s,e.name)):e.isLazy?(a++,t._addName(l,e.name)):(r++,t._addName(o,e.name));return n='<p>\n<span title="'+t._getTitle(s)+"\" class='gremlinjs-log-ready'><strong>"+i+'</strong> ready</span>\n<span title="'+t._getTitle(l)+"\" class='gremlinjs-log-waiting'><strong>"+a+'</strong> lazy waiting</span>\n<span title="'+t._getTitle(o)+"\" class='"+(r>0?"gremlinjs-log-pending":"")+"'><strong>"+r+"</strong> pending</span>\n<span class='"+(n>0?"gremlinjs-log-error":"")+"'><strong>"+n+"</strong> error(s)</span>\n</p>",t._logEl.innerHTML=n},50):void 0},t.prototype._addName=function(t,n){return t[n]?t[n]++:t[n]=1},t.prototype._getTitle=function(t){var n,e,r;e="";for(n in t)r=t[n],e+=""+r+"x "+n+" \n";return""===e?"":"Gremlins: \n"+e},t}();var s={};s.Gizmo=function(){function t(t,n,e,r){this.el=t,this.data=n,this.id=e,r.call(this)}return t.prototype.data=null,t.prototype.el=null,t.prototype.id=null,t.prototype.klass=null,t}(),s.ExtensionRegistry=function(){function t(){}var n;return n=[],t.addExtension=function(t){return t.extend(s.Gizmo),n.push(t)},t.getExtensions=function(){return n.slice(0)},t}();var a={};a.Configuration=function(){function t(t){this._options=i.Helper.extend({},n,t)}var n;return n={debug:!1},t.prototype.get=function(t){var n;return null!=(n=this._options[t])?n:null},t.options={DEBUG:"debug",AUTOLOAD:"autoload"},t}(),i.ready=window.onDomReady;var r={}.hasOwnProperty,l=function(t,n){function e(){this.constructor=t}for(var o in n)r.call(n,o)&&(t[o]=n[o]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};s.Pool=function(){function t(){}var n,e;return e=null,n={},t=function(){function t(){}return t.prototype.get=function(t){var e;return null!=(e=n[t])?e:null},t.prototype.set=function(t,e){if(n[t]!==void 0)throw Error("Trying to add new Gremlin definition, but a definition for "+t+" already exists.");return n[t]=e},t.prototype.define=function(t,n,e,o){var a,u;if("string"!=typeof t)throw Error("The first parameter when defining a gremlin has to be a string, the gremlin definition's name!");if("function"!=typeof n)throw Error("The second parameter when defining a gremlin has to be the constructor function!");if(void 0!==e&&"object"!=typeof e)throw Error("The third parameter when defining a gremlin has to be an object providing the instance members of the gremlin!");if(void 0!==o&&"object"!=typeof o)throw Error("The fourth parameter when defining a gremlin has to be an object providing the static members of the gremlin!");a=function(t){function e(){e.__super__.constructor.apply(this,arguments),n.call(this)}return l(e,t),e}(s.Gizmo),a.prototype.klass=a,i.Helper.mixin(a,e);for(u in o)r.call(o,u)&&(e=o[u],a[u]=e);return this.set(t,a),a},t.prototype.addClass=function(t,n){if("string"!=typeof t)throw Error("Please provide the name of the gremlin!");if("function"!=typeof n)throw Error("When adding a gremlin, you have to provide a constructor function!");return n.prototype.klass=n,this.set(t,n),n},t}(),t.getInstance=function(){return null!=e?e:e=new t},t}();var u=function(t,n){return function(){return t.apply(n,arguments)}},c={clocks:{}};c.clocks.LegacyTimeoutClock=function(){function t(){this._onInterval=u(this._onInterval,this)}return t.prototype.observe=function(){return this._initiateInterval()},t.prototype._initiateInterval=function(){return this._interval=window.setTimeout(this._onInterval,500)},t.prototype._onInterval=function(){return this.onMutation(),this._initiateInterval()},t.prototype.onMutation=function(){},t}();var p={};p.NameProvider=function(){function t(){}var n;return n=function(t,n){var e;return"function"==typeof t.hasAttribute?t.hasAttribute(n):(e=t.getAttributeNode(n),!(!e||!e.specified&&!e.nodeValue))},t.DATA_NAME_ATTR="data-gremlin",t.isGremlin=function(t){return n(t,"data-gremlin")},t.getNames=function(t){var n,e;if(n=t.getAttribute("data-gremlin"),""===n)return n=null!=(e=t.outerHTML)?e:"",p.NameProvider.flagBrokenElement(t),h.debug.console.log("Couldn't process gremlin element, no gremlin names available, 'data-gremlin' is empty!\n"+n),[];var r,o;for(r=n.split(","),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(t.trim());return o},t.flagBrokenElement=function(t){return i.Helper.addClass(t,"gremlin-error"),p.NameProvider.flagProcessedElement(t),h.debug.reportBrokenGremlin(t)},t.flagProcessedElement=function(t){var n;return n=t.getAttribute("data-gremlin"),t.removeAttribute("data-gremlin"),t.setAttribute("data-gremlin-found",n)},t}(),c.clocks.cssAnimationStyle=function(t){return t="@keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n@-moz-keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n@-webkit-keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n@-o-keyframes {{ANIMATION_NAME}} {\n  0%   { opacity: 0.9; }\n  100% { opacity: 1; }\n}\n\n*[{{GREMLIN_ATTRIBUTE}}] {\n  animation-duration: 1ms;\n  -o-animation-duration: 1ms;\n  -moz-animation-duration: 1ms;\n  -webkit-animation-duration: 1ms;\n  animation-name: {{ANIMATION_NAME}};\n  -o-animation-name: {{ANIMATION_NAME}};\n  -moz-animation-name: {{ANIMATION_NAME}};\n  -webkit-animation-name: {{ANIMATION_NAME}};\n}".replace(/{{ANIMATION_NAME}}/g,t),t.replace(/{{GREMLIN_ATTRIBUTE}}/g,p.NameProvider.DATA_NAME_ATTR)},u=function(t,n){return function(){return t.apply(n,arguments)}},c.clocks.CssAnimationClock=function(){function t(){this._onAnimation=u(this._onAnimation,this);var t;t=c.clocks.cssAnimationStyle(n),i.Helper.addStyleSheet(t)}var n,e;return n="gremlinInserted",e=["animationstart","webkitAnimationStart","oanimationstart"],t.prototype.observe=function(){var t,n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],o.push(document.body.addEventListener(t,this._onAnimation,!1));return o},t.prototype._onAnimation=function(t){return t.animationName===n?this.onMutation():void 0},t.prototype.onMutation=function(){},t}(),u=function(t,n){return function(){return t.apply(n,arguments)}},c.clocks.MutationObserverClock=function(){function t(){if(this._onMutation=u(this._onMutation,this),null===n)throw Error("Mutation Observer not available")}var n;return n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,t.prototype.observe=function(){return new n(this._onMutation).observe(document.body,{childList:!0,subtree:!0})},t.prototype._onMutation=function(t){var n,e,r,o;for(o=[],e=0,r=t.length;r>e;e++){if(n=t[e],"childList"===n.type){this.onMutation();break}o.push(void 0)}return o},t.prototype.onMutation=function(){},t}(),i.FeatureDetector=function(){function t(){}return t.hasQuerySelectorAll=document.querySelectorAll!==void 0,t.hasMutationObserver=!(!window.MutationObserver&&!window.WebKitMutationObserver&&!window.MozMutationObserver),t.hasGetClientRect=void 0!==document.documentElement.getBoundingClientRect,t.hasCssAnimations=function(){var t,n,e,r;if(e=document.documentElement,t=!1,n=["Webkit","Moz","O","ms","Khtml"],e.style.animationName&&(t=!0),!1===t)for(r=0;n.length>r;){if(void 0!==e.style[n[r]+"AnimationName"]){t=n[r],t.toLowerCase(),t=!0;break}r++}return t}(),t}(),c.clocks.ClockFactory=function(){function t(){}var n;return n=i.FeatureDetector.hasCssAnimations,t.createClock=function(){return new(n?c.clocks.CssAnimationClock:c.clocks.LegacyTimeoutClock)},t}();var f,u=function(t,n){return function(){return t.apply(n,arguments)}},r={}.hasOwnProperty,l=function(t,n){function e(){this.constructor=t}for(var o in n)r.call(n,o)&&(t[o]=n[o]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};f=function(){function t(){}var n;return n=null,t=function(t){function n(){this._onMutation=u(this._onMutation,this),n.__super__.constructor.apply(this,arguments),this._clock=c.clocks.ClockFactory.createClock(),this._clock.onMutation=this._onMutation}return l(n,t),n.prototype._onMutation=function(){return this.emit(n.ON_MUTATION)},n.prototype.observe=function(){return this._clock.observe(),this._onMutation()},n}(e),t.ON_MUTATION="ON_MUTATION",t.get=function(){return null!=n?n:n=new t},t}.call(this),c.ElementList=function(){function t(t){this._attributeName=t}var n,e,r;return e=function(){function t(){}return t.get=function(t){var n,e,r,o;for(n=document.querySelectorAll("["+p.NameProvider.DATA_NAME_ATTR+"]"),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(t);return o},t}(),n=function(){function t(){}return t.get=function(t){var n,e,r,o;for(n=document.getElementsByTagName("*"),o=[],e=0,r=n.length;r>e;e++)t=n[e],p.NameProvider.isGremlin(t)&&o.push(t);return o},t}(),r=i.FeatureDetector.hasQuerySelectorAll?e:n,t.prototype.getList=function(){return r.get(this._attributeName)},t}.call(this),u=function(t,n){return function(){return t.apply(n,arguments)}},c.DomObserver=function(){function t(){this._handleMutation=u(this._handleMutation,this),this._elementList=new c.ElementList}return t.prototype._bindMutations=function(){var t;return t=f.get(),t.on(f.ON_MUTATION,this._handleMutation),t.observe()},t.prototype._handleMutation=function(){var t;return t=this._elementList.getList(),t.length>0?this.onNewElements(t):void 0},t.prototype.observe=function(){return this._bindMutations()},t.prototype.onNewElements=function(){},t}(),p.GremlinFactory=function(){function t(){}var n,e;return e=function(){var t;return t=0,function(){return t++}}(),n=function(){var t,n,e,r,o;for(n=s.ExtensionRegistry.getExtensions(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(t.bind(this));return o},t.getInstance=function(t,r,o){if(t=s.Pool.getInstance().get(t),"function"==typeof t){if(r=new t(r,o.toObject(),e(),n),null===r.el)throw Error("Abstract gremlin class not called. Did you miss a super in your coffeescript-class?");return r}return null},t}(),i.ElementData={},i.ElementData.DataValue=function(){function t(t){this._dataString=t}var n;return n=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,t.prototype.parse=function(){var t,e;if(e=t=this._dataString,"string"==typeof this._dataString)try{e="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:n.test(t)?JSON.parse(t):t}catch(r){}return e},t}(),r={}.hasOwnProperty,i.ElementData.ElementData=function(){function t(t){this._el=t,this._obj=e(this._el)}var n,e;return n=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()})},e=function(t){var e,o,s,a;a={},void 0!==t.dataset?e=t.dataset:(e={},[].filter.call(t.attributes,function(r){var o;return(o=/^data-/.test(r.name))&&(e[n(r.name.substring(5))]=t.getAttribute(r.name)),o}));for(s in e)r.call(e,s)&&(o=e[s],o=new i.ElementData.DataValue(o),a[s]=o.parse());return a},t.prototype.get=function(t){var n;return null!=(n=this._obj[t])?n:null},t.prototype.toObject=function(){return i.Helper.clone(this._obj)},t}();var d;d=i.FeatureDetector.hasGetClientRect,p.GremlinDomElement=function(){function t(t,r){this._el=t,this._name=r,this._data=new i.ElementData.ElementData(this._el),this.isLazy=this._isLazy=!0===this._data.get(e)?!0:!1,this.name=this._name,this._triggeredPending=!1,i.Helper.addClass(this._el,n),h.debug.registerGremlin(this),h.emit(h.ON_ELEMENT_FOUND,this._el)}var n,e;return e="gremlinLazy",n="gremlin-loading",t.prototype._gremlinInstance=null,t.prototype.check=function(){return this._isInViewport()?this._create():void 0},t.prototype._isInViewport=function(){var t;return this._isLazy&&d?(t=document.documentElement.clientHeight,300>this._el.getBoundingClientRect().top-t):!0},t.prototype._create=function(){return this._gremlinInstance=p.GremlinFactory.getInstance(this._name,this._el,this._data),this.hasGremlin()?(i.Helper.removeClass(this._el,n),i.Helper.removeClass(this._el,"gremlin-definition-pending"),i.Helper.addClass(this._el,"gremlin-ready"),h.emit(h.ON_GREMLIN_LOADED,this._el)):this._triggeredPending?void 0:(this._triggeredPending=!0,i.Helper.addClass(this._el,"gremlin-definition-pending"),h.debug.console.info("Gremlin <"+this._name+"> found in the dom, but there is no definition for it at the moment."),h.emit(h.ON_DEFINITION_PENDING,this._el))},t.prototype.hasGremlin=function(){return null!==this._gremlinInstance},t}(),u=function(t,n){return function(){return t.apply(n,arguments)}},p.GremlinCollection=function(){function t(){this._scrollHandler=u(this._scrollHandler,this),this._queue=[],this._bindScroll(),this._scrollTimer=this._didScroll=!1}return t.prototype._queue=null,t.prototype._bindScroll=function(){return window.addEventListener?window.addEventListener("scroll",this._scrollHandler,!1):window.attachEvent?window.attachEvent("onscroll",this._scrollHandler):void 0},t.prototype.add=function(t){var n,e,r;for(e=0,r=t.length;r>e;e++)n=t[e],this._addGremlinElements(n);return this._processQueue()},t.prototype._addGremlinElements=function(t){var n,e,r,o,i;for(e=p.NameProvider.getNames(t),p.NameProvider.flagProcessedElement(t),i=[],r=0,o=e.length;o>r;r++)n=e[r],i.push(this._queue.push(new p.GremlinDomElement(t,n)));return i},t.prototype._processQueue=function(){var t,n,e,r,o;for(n=[],o=this._queue,e=0,r=o.length;r>e;e++)t=o[e],t.check(),t.hasGremlin()||n.push(t);return this._queue=n,h.debug.updateGremlinLog()},t.prototype.process=function(){return this._processQueue()},t.prototype._scrollHandler=function(){var t=this;return 0===this._queue.length?!0:(this._didScroll||(this._scrollTimer=setInterval(function(){return t._didScroll?(t._didScroll=!1,clearTimeout(t._scrollTimer),t.process()):void 0},250)),this._didScroll=!0)},t}();var m,u=function(t,n){return function(){return t.apply(n,arguments)}};m=function(){function t(){this._onNew=u(this._onNew,this);var t,e;t=null!=(e=new i.ElementData.ElementData(document.body).get(n))?e:{},this.configuration=new a.Configuration(t),this._observer=new c.DomObserver,this._coll=new p.GremlinCollection,this._observer.onNewElements=this._onNew}var n;return n="gremlinConfig",t.prototype._onNew=function(t){return this._coll.add(t)},t.prototype.start=function(){return this._observer.observe()},t.prototype.refresh=function(){return this._coll.process()},t}(),i.polyfill={},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.filter||(Array.prototype.filter=function(t,n){var e,r,o,i,s;if(this===void 0||null===this)throw new TypeError;if(i=Object(this),r=i.length>>>0,"function"!=typeof t)throw new TypeError;for(o=[],e=0;r>e;)e in i&&(s=i[e],t.call(n,s,e,i)&&o.push(s)),e++;return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var n,e=Object(this),r=e.length>>>0;if(0===r)return-1;if(n=0,arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&1/0!=n&&-1/0!=n&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(n=n>=0?n:Math.max(r-Math.abs(n),0);r>n;n++)if(n in e&&e[n]===t)return n;return-1});var h,r={}.hasOwnProperty,l=function(t,n){function e(){this.constructor=t}for(var o in n)r.call(n,o)&&(t[o]=n[o]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};h=function(){var t,n;return t=null,n=new(function(n){function e(){e.__super__.constructor.apply(this,arguments),this.debug=new i.Debug(!1)}return l(e,n),e.prototype.ON_ELEMENT_FOUND="elementfound",e.prototype.ON_DEFINITION_PENDING="definitionpending",e.prototype.ON_GREMLIN_LOADED="gremlinloaded",e.prototype.add=function(n,e){return e=s.Pool.getInstance().addClass(n,e),null!=t&&t.refresh(),e},e.prototype.define=function(n,e,r,o){return n=s.Pool.getInstance().define(n,e,r,o),null!=t&&t.refresh(),n},e.prototype.Gizmo=s.Gizmo,e.prototype.Helper=i.Helper,e.prototype.registerExtension=function(t){return s.ExtensionRegistry.addExtension(t)},e}(e)),i.ready(function(){var e;return t=new m,(e=t.configuration.get(a.Configuration.options.DEBUG))&&(n.debug=new i.Debug(e)),t.start(),n.debug.console.log("gremlin.js up and running...")}),n}(),window.Gremlin=h,void 0===window.G&&(window.G=window.Gremlin),"function"==typeof window.define&&window.define.amd&&define("Gremlin",[],function(){return h})})({},function(){return this}());